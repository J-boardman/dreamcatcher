import{s as z,f as m,a as I,g as _,h as $,d as f,c as S,j as c,i as p,A as b,v as T,z as V,l as H,m as O,n as R,w as W,o as X,B as J,e as N}from"../chunks/scheduler.3b07f987.js";import{S as K,i as Q,b as w,d as E,m as y,a as d,t as k,e as C,g as M,c as P}from"../chunks/index.c72e2f07.js";import{e as D}from"../chunks/Title.49fc599e.js";import{n as Y,p as Z,a as x,h as ee}from"../chunks/stores.b4316504.js";import{P as te,a as re}from"../chunks/ProfileBottomNavigation.4d38b86a.js";import{S as le}from"../chunks/StoryCard.6cd06b38.js";import{p as se}from"../chunks/stores.2d407fbe.js";import{M as ae}from"../chunks/Modal.33b24fd6.js";import{a as oe}from"../chunks/navigation.c51359bf.js";function ne(i){let e;return{c(){e=m("div"),this.h()},l(s){e=_(s,"DIV",{class:!0}),$(e).forEach(f),this.h()},h(){c(e,"class","mask mask-squircle w-10 h-10 skeleton")},m(s,r){p(s,e,r)},p:T,d(s){s&&f(e)}}}function ie(i){let e,s,r,t,n,l;return{c(){e=m("div"),s=m("img"),t=I(),n=m("img"),this.h()},l(o){e=_(o,"DIV",{class:!0});var a=$(e);s=_(a,"IMG",{src:!0,alt:!0}),t=S(a),n=_(a,"IMG",{src:!0,alt:!0}),a.forEach(f),this.h()},h(){var o;V(s.src,r=((o=i[0])==null?void 0:o.imageUrl)+"?enhanced")||c(s,"src",r),c(s,"alt","profile"),V(n.src,l="/")||c(n,"src",l),c(n,"alt","Avatar Tailwind CSS Component"),c(e,"class","mask mask-squircle w-10 h-10")},m(o,a){p(o,e,a),b(e,s),b(e,t),b(e,n)},p(o,a){var u;a&1&&!V(s.src,r=((u=o[0])==null?void 0:u.imageUrl)+"?enhanced")&&c(s,"src",r)},d(o){o&&f(e)}}}function fe(i){let e,s,r;return{c(){e=m("div"),s=I(),r=m("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),$(e).forEach(f),s=S(t),r=_(t,"DIV",{class:!0}),$(r).forEach(f),this.h()},h(){c(e,"class","font-bold w-[20ch] h-6 skeleton"),c(r,"class","text-sm opacity-50 w-[20ch] h-4 skeleton")},m(t,n){p(t,e,n),p(t,s,n),p(t,r,n)},p:T,d(t){t&&(f(e),f(s),f(r))}}}function ce(i){var n;let e,s=((n=i[0])==null?void 0:n.username)+"",r,t;return{c(){e=m("a"),r=H(s),this.h()},l(l){e=_(l,"A",{href:!0,class:!0});var o=$(e);r=O(o,s),o.forEach(f),this.h()},h(){var l;c(e,"href",t="/profile/"+((l=i[0])==null?void 0:l.id)),c(e,"class","")},m(l,o){p(l,e,o),b(e,r)},p(l,o){var a,u;o&1&&s!==(s=((a=l[0])==null?void 0:a.username)+"")&&R(r,s),o&1&&t!==(t="/profile/"+((u=l[0])==null?void 0:u.id))&&c(e,"href",t)},d(l){l&&f(e)}}}function ue(i){let e,s,r,t,n;function l(h,g){return h[0]?ie:ne}let o=l(i),a=o(i);function u(h,g){return h[0]?ce:fe}let A=u(i),v=A(i);return{c(){e=m("div"),s=m("a"),a.c(),t=I(),n=m("div"),v.c(),this.h()},l(h){e=_(h,"DIV",{class:!0});var g=$(e);s=_(g,"A",{href:!0,class:!0});var q=$(s);a.l(q),q.forEach(f),t=S(g),n=_(g,"DIV",{class:!0});var B=$(n);v.l(B),B.forEach(f),g.forEach(f),this.h()},h(){c(s,"href",r="/profile/"+i[0].id),c(s,"class","avatar"),c(n,"class","flex flex-col"),c(e,"class","flex flex-1 items-center space-x-3 ")},m(h,g){p(h,e,g),b(e,s),a.m(s,null),b(e,t),b(e,n),v.m(n,null)},p(h,[g]){o===(o=l(h))&&a?a.p(h,g):(a.d(1),a=o(h),a&&(a.c(),a.m(s,null))),g&1&&r!==(r="/profile/"+h[0].id)&&c(s,"href",r),A===(A=u(h))&&v?v.p(h,g):(v.d(1),v=A(h),v&&(v.c(),v.m(n,null)))},i:T,o:T,d(h){h&&f(e),a.d(),v.d()}}}function he(i,e,s){let{user:r}=e;return i.$$set=t=>{"user"in t&&s(0,r=t.user)},[r]}class me extends K{constructor(e){super(),Q(this,e,he,ue,z,{user:0})}}function U(i,e,s){const r=i.slice();return r[4]=e[s],r}function F(i,e,s){const r=i.slice();return r[7]=e[s],r}function G(i){let e,s,r,t,n;return s=new le({props:{story:i[7],hideAuthorCard:i[2]!="liked"}}),{c(){e=m("a"),w(s.$$.fragment),r=I(),this.h()},l(l){e=_(l,"A",{href:!0});var o=$(e);E(s.$$.fragment,o),r=S(o),o.forEach(f),this.h()},h(){c(e,"href",t="/story/"+i[7].id)},m(l,o){p(l,e,o),y(s,e,null),b(e,r),n=!0},p(l,o){const a={};o&1&&(a.story=l[7]),o&4&&(a.hideAuthorCard=l[2]!="liked"),s.$set(a),(!n||o&1&&t!==(t="/story/"+l[7].id))&&c(e,"href",t)},i(l){n||(d(s.$$.fragment,l),n=!0)},o(l){k(s.$$.fragment,l),n=!1},d(l){l&&f(e),C(s)}}}function _e(i){let e,s,r=D(i[0].stories),t=[];for(let l=0;l<r.length;l+=1)t[l]=G(F(i,r,l));const n=l=>k(t[l],1,1,()=>{t[l]=null});return{c(){e=m("section");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=_(l,"SECTION",{class:!0});var o=$(e);for(let a=0;a<t.length;a+=1)t[a].l(o);o.forEach(f),this.h()},h(){c(e,"class","grid gap-4 md:grid-cols-2 lg:grid-cols-3 auto-rows-fr")},m(l,o){p(l,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null);s=!0},p(l,o){if(o&5){r=D(l[0].stories);let a;for(a=0;a<r.length;a+=1){const u=F(l,r,a);t[a]?(t[a].p(u,o),d(t[a],1)):(t[a]=G(u),t[a].c(),d(t[a],1),t[a].m(e,null))}for(M(),a=r.length;a<t.length;a+=1)n(a);P()}},i(l){if(!s){for(let o=0;o<r.length;o+=1)d(t[o]);s=!0}},o(l){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)k(t[o]);s=!1},d(l){l&&f(e),J(t,l)}}}function L(i){let e,s;return e=new ae({props:{buttonText:i[1],classes:"h-full rounded-l-none rounded-r-xl",$$slots:{title:[pe],default:[de]},$$scope:{ctx:i}}}),{c(){w(e.$$.fragment)},l(r){E(e.$$.fragment,r)},m(r,t){y(e,r,t),s=!0},p(r,t){const n={};t&2&&(n.buttonText=r[1]),t&1027&&(n.$$scope={dirty:t,ctx:r}),e.$set(n)},i(r){s||(d(e.$$.fragment,r),s=!0)},o(r){k(e.$$.fragment,r),s=!1},d(r){C(e,r)}}}function j(i){let e,s;return e=new me({props:{user:i[4]}}),{c(){w(e.$$.fragment)},l(r){E(e.$$.fragment,r)},m(r,t){y(e,r,t),s=!0},p(r,t){const n={};t&1&&(n.user=r[4]),e.$set(n)},i(r){s||(d(e.$$.fragment,r),s=!0)},o(r){k(e.$$.fragment,r),s=!1},d(r){C(e,r)}}}function de(i){let e,s,r=D(i[0].followers),t=[];for(let l=0;l<r.length;l+=1)t[l]=j(U(i,r,l));const n=l=>k(t[l],1,1,()=>{t[l]=null});return{c(){e=m("article");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=_(l,"ARTICLE",{class:!0});var o=$(e);for(let a=0;a<t.length;a+=1)t[a].l(o);o.forEach(f),this.h()},h(){c(e,"class","grid gap-4")},m(l,o){p(l,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null);s=!0},p(l,o){if(o&1){r=D(l[0].followers);let a;for(a=0;a<r.length;a+=1){const u=U(l,r,a);t[a]?(t[a].p(u,o),d(t[a],1)):(t[a]=j(u),t[a].c(),d(t[a],1),t[a].m(e,null))}for(M(),a=r.length;a<t.length;a+=1)n(a);P()}},i(l){if(!s){for(let o=0;o<r.length;o+=1)d(t[o]);s=!0}},o(l){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)k(t[o]);s=!1},d(l){l&&f(e),J(t,l)}}}function pe(i){let e,s;return{c(){e=m("h2"),s=H(i[1]),this.h()},l(r){e=_(r,"H2",{slot:!0,class:!0});var t=$(e);s=O(t,i[1]),t.forEach(f),this.h()},h(){c(e,"slot","title"),c(e,"class","text-2xl")},m(r,t){p(r,e,t),b(e,s)},p(r,t){t&2&&R(s,r[1])},d(r){r&&f(e)}}}function ge(i){let e,s,r=i[0].followers.length&&L(i);return{c(){r&&r.c(),e=N()},l(t){r&&r.l(t),e=N()},m(t,n){r&&r.m(t,n),p(t,e,n),s=!0},p(t,n){t[0].followers.length?r?(r.p(t,n),n&1&&d(r,1)):(r=L(t),r.c(),d(r,1),r.m(e.parentNode,e)):r&&(M(),k(r,1,1,()=>{r=null}),P())},i(t){s||(d(r),s=!0)},o(t){k(r),s=!1},d(t){t&&f(e),r&&r.d(t)}}}function $e(i){let e,s,r,t;return e=new te({props:{user:i[0].user,$$slots:{default:[_e]},$$scope:{ctx:i}}}),r=new re({props:{$$slots:{default:[ge]},$$scope:{ctx:i}}}),{c(){w(e.$$.fragment),s=I(),w(r.$$.fragment)},l(n){E(e.$$.fragment,n),s=S(n),E(r.$$.fragment,n)},m(n,l){y(e,n,l),p(n,s,l),y(r,n,l),t=!0},p(n,[l]){const o={};l&1&&(o.user=n[0].user),l&1029&&(o.$$scope={dirty:l,ctx:n}),e.$set(o);const a={};l&1027&&(a.$$scope={dirty:l,ctx:n}),r.$set(a)},i(n){t||(d(e.$$.fragment,n),d(r.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),k(r.$$.fragment,n),t=!1},d(n){n&&f(s),C(e,n),C(r,n)}}}function ve(i,e,s){let r,t,n;W(i,se,o=>s(3,n=o));let{data:l}=e;return X(()=>{Y.set(l.stories)}),oe(()=>{var o,a,u;Z.set(`${(o=l.user)==null?void 0:o.username}'s profile`),x.set(`${(a=l==null?void 0:l.user)==null?void 0:a.username}`),ee.set({src:`${(u=l.user)==null?void 0:u.imageUrl}`,rounded:!0})}),i.$$set=o=>{"data"in o&&s(0,l=o.data)},i.$$.update=()=>{i.$$.dirty&8&&s(2,r=n.url.searchParams.get("filter")),i.$$.dirty&1&&s(1,t=`${l.followerCount} Follower${l.followerCount==1?"":"s"}`)},[l,t,r,n]}class Te extends K{constructor(e){super(),Q(this,e,ve,$e,z,{data:0})}}export{Te as component};
